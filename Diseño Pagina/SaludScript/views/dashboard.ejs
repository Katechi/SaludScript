<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <title>SaludScript</title>
    <style type="text/css">

        h1{
            text-align: left;
        }
        p{
            text-align: right;
        
        }
        </style>
        
  </head>
  <body>
<h1 class="mt-4">Ficha Clinica</h1>
<p class="lead mb-3">Bienvenido/a <%= user.name %></p>
<br>
<div class="container my-5 ">
  <button class="btn btn-danger w-20" onclick="traer()">Mostrar Ficha</button>
  <div class="mt-4">
      <table class="table">
          <thead>

              <tr>
                  <th scope="col">#</th>
                  <br>
                  <th scope="col">Nombre</th>
                  <th scope="col">Apellido</th>
                  <th scope="col">Estado</th>
              </tr>
          </thead>
          <tbody id="contenido">
              
          </tbody>
      </table>
  </div>
</div>

<div class= "container my-5">
<button class= "btn btn-danger w-20" >Crear ficha </button>
</div>
<br>

<a href="/users/logout" class="btn btn-secondary">Logout</a>





<script>
  var contenido = document.querySelector('#contenido')

  function traer() {
      fetch('table.json')
          .then(res => res.json())
          .then(datos => {
              // console.log(datos)
              tabla(datos)
          })
  }

  function tabla(datos) {
      // console.log(datos)
      contenido.innerHTML = ''
      for(let valor of datos){
          // console.log(valor.nombre)
          contenido.innerHTML += `
          
          
          <tr>
              <th scope="row">${ valor.id }</th>
              <td>${ valor.nombre }</td>
              <td>${ valor.email }</td>
              <td>${ valor.estado ? "Activo" : "Eliminado" }</td>
          </tr>
          
          `
      }
  }

</script>
  </body>
</html>





